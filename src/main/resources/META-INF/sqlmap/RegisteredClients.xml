<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dog.sneaky.demo.database.dao.RegisteredClientsDAO">

  <resultMap id="BaseResultMap" type="dog.sneaky.demo.database.dataobject.RegisteredClientsDO">
    <id column="id"  property="id" />
    <result column="client_id" property="clientId" />
    <result column="client_id_issued_at"  property="clientIdIssuedAt" />
    <result column="client_secret" property="clientSecret" />
    <result column="client_secret_expires_at"  property="clientSecretExpiresAt" />
    <result column="client_name"  property="clientName" />
    <result column="client_authentication_methods"  property="clientAuthenticationMethods" />
    <result column="authorization_grant_types"  property="authorizationGrantTypes" />
    <result column="redirect_uris" property="redirectUris" />
    <result column="scopes" property="scopes" />
    <result column="client_settings" property="clientSettings" />
    <result column="token_settings" property="tokenSettings" />
  </resultMap>

  <sql id="Base_Column_List">
    id, client_id, client_id_issued_at,client_secret, client_secret_expires_at, client_name, client_authentication_methods,
    authorization_grant_types, redirect_uris, scopes, client_settings, token_settings
  </sql>

  <select id="loadById" parameterType="java.lang.String" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from oauth2_registered_client
    where id = #{id}
  </select>

  <select id="list" parameterType="dog.sneaky.demo.database.dataobject.RegisteredClientsDO" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from oauth2_registered_client
  </select>

  <insert id="insert" parameterType="dog.sneaky.demo.database.dataobject.RegisteredClientsDO">
    insert into oauth2_registered_client (id, client_id, client_id_issued_at,
      client_secret_expires_at, client_name, client_authentication_methods, 
      authorization_grant_types, redirect_uris, 
      scopes, client_settings, token_settings, 
      client_secret)
    values (#{id}, #{clientId}, #{clientIdIssuedAt},
      #{clientSecretExpiresAt}, #{clientName}, #{clientAuthenticationMethods},
      #{authorizationGrantTypes}, #{redirectUris},
      #{scopes}, #{clientSettings}, #{tokenSettings},
      #{clientSecret})
  </insert>


  <update id="update" parameterType="dog.sneaky.demo.database.dataobject.RegisteredClientsDO">
    update oauth2_registered_client
    set client_id = #{clientId},
      client_id_issued_at = #{clientIdIssuedAt},
      client_secret_expires_at = #{clientSecretExpiresAt},
      client_name = #{clientName},
      client_authentication_methods = #{clientAuthenticationMethods},
      authorization_grant_types = #{authorizationGrantTypesR},
      redirect_uris = #{redirectUris},
      scopes = #{scopes},
      client_settings = #{clientSettings},
      token_settings = #{tokenSettings}
    where id = #{id}
  </update>

  <delete id="deleteById" parameterType="java.lang.String">
    delete from oauth2_registered_client
    where id = #{id}
  </delete>

</mapper>
